{% extends "base.html" %}
{% block body %}
<div class="bg-white">
  <div class="mx-auto max-w-7xl px-4 py-24 sm:px-6 lg:px-8">
    <h2 class="text-3xl font-bold tracking-tight text-gray-900 sm:text-4xl mb-8">{{bill.title}}</h2>
    <div class="grid grid-cols-1 items-center gap-x-8 gap-y-16 sm:grid-cols-2">

    <div>
      <dl class="mt-16 grid grid-cols-1 gap-x-6 gap-y-10 sm:grid-cols-2 sm:gap-y-16 lg:gap-x-8">
        <div class="border-t border-gray-200 pt-4">
          <dt class="font-medium text-gray-900">키워드</dt>
          <dd class="mt-2 text-sm text-gray-500">6.25&quot; x 3.55&quot; x 1.15&quot;</dd>
        </div>
        <div class="border-t border-gray-200 pt-4">
          <dt class="font-medium text-gray-900">제안 이유 / 주요 내용</dt>
          <dd class="mt-2 text-sm text-gray-500">{{bill.content}}</dd>
        </div>
        <div class="border-t border-gray-200 pt-4">
          <dt class="font-medium text-gray-900">히스토리</dt>
          <dd class="mt-2 text-sm text-gray-500"></dd>
        </div>
        <div class="border-t border-gray-200 pt-4">
          <dt class="font-medium text-gray-900">표결 결과</dt>
          <dd class="mt-2 text-sm text-gray-700">
            <!-- 의원 목록 -->
             <div>
                <h3 class="font-semibold text-gray-900">{{ vote.member.name }}</h3>
                <ul class="space-y-1 text-sm">
                    {% for vote in votes %}
                    <li>
                        <span class="font-medium text-gray-900">{{ vote.member.name }}</span>
                        <span class="text-gray-500">({{ vote.member.party.name }})</span> - 
                        <span class="text-indigo-600">{{ vote.vote_result }}</span>
                    </li>
                    {% endfor %}
                </ul>
             </div>

                 <!-- 정당별 통계 -->
    <div class="mt-6">
      <h3 class="font-semibold text-gray-800 mb-2">정당별 통계</h3>
      <table class="min-w-full text-sm border border-gray-300 rounded">
        <thead class="bg-gray-100">
          <tr>
            <th class="px-4 py-2 text-left font-medium text-gray-700">정당</th>
            <th class="px-4 py-2 text-left font-medium text-green-700">찬성</th>
            <th class="px-4 py-2 text-left font-medium text-red-700">반대</th>
            <th class="px-4 py-2 text-left font-medium text-yellow-700">기권</th>
          </tr>
        </thead>
        <tbody>
          {% for stat in party_stats %}
            <tr class="border-t">
              <td class="px-4 py-2">{{ stat.member__party }}</td>
              <td class="px-4 py-2 text-green-600">{{ stat.agree }}</td>
              <td class="px-4 py-2 text-red-600">{{ stat.oppose }}</td>
              <td class="px-4 py-2 text-yellow-600">{{ stat.abstain }}</td>
            </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>

  </dd>
</div>
          </dd>
        </div>
        <div class="border-t border-gray-200 pt-4">
          <dt class="font-medium text-gray-900"></dt>
          <dd class="mt-2 text-sm text-gray-500"></dd>
        </div>
      </dl>
    </div>
    <div class="grid grid-cols-2 grid-rows-2 gap-4 sm:gap-6 lg:gap-8">
      <img src="https://tailwindcss.com/plus-assets/img/ecommerce-images/product-feature-03-detail-01.jpg" alt="Walnut card tray with white powder coated steel divider and 3 punchout holes." class="rounded-lg bg-gray-100">
      <img src="https://tailwindcss.com/plus-assets/img/ecommerce-images/product-feature-03-detail-02.jpg" alt="Top down view of walnut card tray with embedded magnets and card groove." class="rounded-lg bg-gray-100">
      <img src="https://tailwindcss.com/plus-assets/img/ecommerce-images/product-feature-03-detail-03.jpg" alt="Side of walnut card tray with card groove and recessed card area." class="rounded-lg bg-gray-100">
      <img src="https://tailwindcss.com/plus-assets/img/ecommerce-images/product-feature-03-detail-04.jpg" alt="Walnut card tray filled with cards and card angled in dedicated groove." class="rounded-lg bg-gray-100">
    </div>
  </div>
</div>

{% endblock %}