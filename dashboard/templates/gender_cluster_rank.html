{{ ranking_data|json_script:"gender-chart-data" }}

<div class="mb-4">
  <div class="bg-white p-4 rounded shadow">
    <h2 class="text-xl font-semibold mb-6">성별에 따른 표결</h2>

    <!-- 차트를 그릴 div -->
    <div id="genderVoteChart" style="height: 400px; width: 100%;"></div>

    {% for gender, ranking in ranking_data.items %}
      <div>
        <h3 class="text-lg font-semibold mb-2">{{ gender }}</h3>
        <ul class="space-y-3">
          {% for item in ranking|slice:":5" %}
            <li>
              <div class="flex justify-between text-sm mb-1">
                <span>클러스터 {{ item.cluster }}</span>
                <span>{{ item.찬성비율 }}%</span>
              </div>
              <div class="w-full bg-gray-200 rounded-full h-3">
                <div class="bg-blue-500 h-3 rounded-full" style="width: {{ item.찬성비율 }}%"></div>
              </div>
            </li>
          {% endfor %}
        </ul>
      </div>
    {% endfor %}
  </div>
</div>
